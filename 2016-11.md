#### 目录

* <a href="#1123">2016/11/23:JavaScript 浮点数问题</a>
* <a href="#1122">2016/11/22:ES6 模板字符串</a>
* <a href="#1121">2016/11/21:ES6 中的伪强制参数</a>
* <a href="#1120">2016/11/20:execCommand 实现复制到粘贴板</a>
* <a href="#1119">2016/11/19:JavaScript 的逗号操作符</a>
* <a href="#1118">2016/11/18:有趣的浏览器活跃窗口监听</a>
* <a href="#1117">2016/11/17:向字符串对象原型添加trim方法</a>
* <a href="#1116">2016/11/16:复制到粘贴板</a>
* <a href="#1115">2016/11/15:可以接受单参数与数组的方法</a>
* <a href="#1114">2016/11/14:时间戳转换</a>

##### <a id="1123">2016/11/23: Javascript 浮点数问题</a>

	0.1 + 0.2 === 0.3 // is false 
	9007199254740992 + 1 // is equal to 9007199254740992  
	9007199254740992 + 2 // is equal to 9007199254740994

为什么会有这样的结果? 因为 0.1 +0.2 等于 0.30000000000000004.

因为JavaScript 使用了应用最广的 IEEE 754二进制浮点数运算标准

在这个标准下会影响JS的计算误差，导致JavaScript对正负2的53次方范围以外的整数，无法给出精确的计算结果。

你可以用 toFixed() 和 toPrecision() 来处理这个问题。

关键词：**浮点数**

ES6中，JS现在有了引号拼接字符串的替代品，模板字符串。

	//es6之前做法
	var firstName = 'Jake';
	var lastName = 'Rawr';
	console.log('My name is ' + firstName + ' ' + lastName);
	// My name is Jake Rawr

	//es6可以这样
	var firstName = 'Jake';
	var lastName = 'Rawr';
	console.log(`My name is ${firstName} ${lastName}`);
	// My name is Jake Rawr

关键词：**ES6**、**模板**、**字符串**


##### <a id="1122">2016/11/22: ES6 模板字符串</a>

ES6中，JS现在有了引号拼接字符串的替代品，模板字符串。

	//es6之前做法
	var firstName = 'Jake';
	var lastName = 'Rawr';
	console.log('My name is ' + firstName + ' ' + lastName);
	// My name is Jake Rawr

	//es6可以这样
	var firstName = 'Jake';
	var lastName = 'Rawr';
	console.log(`My name is ${firstName} ${lastName}`);
	// My name is Jake Rawr

关键词：**ES6**、**模板**、**字符串**

##### <a id="1121">2016/11/21: ES6 中的伪强制参数</a>

在许多编程语言中，方法的参数是默认强制需要的，开发人员必须明确定义一个可选的参数。在Javascript 中每一个参数都是可选的，但是我们可以利用es6参数默认值特性的优点来达到强制要求这种目的，并且不污染函数体本身。

	const _err = function( message ){
		throw new Error( message );
	}

	const getSum = (a = _err('a is not defined'), b = _err('b is not defined')) => a + b

	getSum( 10 ) // throws Error, b is not defined

	getSum( undefined, 10 ) // throws Error, a is not defined

关键词：**ES6**、**伪参数**

##### <a id="1120">2016/11/20: execCommand 实现复制到粘贴板</a>

此方法目前被所有最新版本的浏览器[支持](http://caniuse.com/#search=execCommand)

	document.querySelector('#input').select();
	document.execCommand('copy');

关键词：**execCommand**、**复制**


##### <a id="1119">2016/11/19: JavaScript 的逗号操作符</a>

在一个表达式中，由左到右计算每个表达式并返回最后一个。

	for(var i=0, j=0; i<5; i++, j++, j++){
		console.log("i:"+i+", j:"+j);
	}
	//输出：
	// i:0, j:0
	// i:1, j:2
	// i:2, j:4
	// i:3, j:6
	// i:4, j:8

关键词：**逗号操作符**

##### <a id="1118">2016/11/18: 有趣的浏览器活跃窗口监听</a>

主要是2个事件`window.onblur` 和 `window.onfocus`，有个问题是 `onfocus` 必须要操作一下页面。

也可以利用`visibilitychange`事件，通过`document.hidden`来判断页面是否可见。

	(function () {
	  var title = document.title
	  window.onblur = function () {
		document.title = '网页崩溃了，快看！'
	  }

	  window.onfocus = function () {
		document.title = title
	  }
	})()

关键词：**窗口**、**监听**

##### <a id="1117">2016/11/17: 向字符串对象原型添加trim方法</a>

`trim` 方法已经在ECMAScript 5+得到[支持](http://caniuse.com/#search=trim)，现在要实现这个方法.

	String.prototype.trim = function(){
		return this.replace(/^s+|s+$/g, "");
	};  

关键词：**trim**

##### <a id="1116">2016/11/16: 复制到粘贴板</a>

此方法目前被所有最新版本的浏览器[支持](http://caniuse.com/#search=execCommand)，它可以让我们执行如复制、剪切、粘贴等命令，还可以改变字体颜色、大小等。

	document.querySelector('#input').select();
	document.execCommand('copy');

关键词：**复制**

##### <a id="1115">2016/11/15: 可以接受单参数与数组的方法</a>

实际是将单参数转化为数组，使用`concat`来添加。

	function printWords(words) {
		var elements = [].concat(words || []);

		for (var i = 0; i < elements.length; i++) {
			console.log(elements[i]);
		}
	}

关键词：**数组、参数**

##### <a id="1114">2016/11/14: 时间戳转换</a>

	1. Date.parse('2016/11/14'.replace(/-/g, '/'));
	2. Number(new Date('2016/11/14'.replace(/-/g, '/')));
	3. new Date('2016/11/14'.replace(/-/g, '/')).getTime();

通过正则转换成`YYYY/MM/DD`格式才能被所浏览器识别。

关键词：**时间戳**
